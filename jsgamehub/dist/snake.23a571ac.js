let e,t,r;const o=document.querySelector(".play-board"),n=document.querySelector(".score"),u=document.querySelector(".high-score"),a=document.querySelectorAll(".controls i");let l=!1,c=5,d=5,i=0,s=0,h=[],y=0,g=localStorage.getItem("high-score")||0;u.innerText=`\u{420}\u{435}\u{43A}\u{43E}\u{440}\u{434}: ${g}`;const m=()=>{e=Math.floor(30*Math.random())+1,t=Math.floor(30*Math.random())+1},f=()=>{clearInterval(r),alert("Ви програли! Натисніть щоб почати заново..."),location.reload()},k=e=>{"ArrowUp"===e.key&&1!=s?(i=0,s=-1):"ArrowDown"===e.key&&-1!=s?(i=0,s=1):"ArrowLeft"===e.key&&1!=i?(i=-1,s=0):"ArrowRight"===e.key&&-1!=i&&(i=1,s=0)};a.forEach(e=>e.addEventListener("click",()=>k({key:e.dataset.key}))),m(),r=setInterval(()=>{if(l)return f();let r=`<div class="food" style="grid-area: ${t} / ${e}"></div>`;c===e&&d===t&&(m(),h.push([t,e]),g=++y>=g?y:g,localStorage.setItem("high-score",g),n.innerText=`\u{420}\u{430}\u{445}\u{443}\u{43D}\u{43E}\u{43A}: ${y}`,u.innerText=`\u{420}\u{435}\u{43A}\u{43E}\u{440}\u{434}: ${g}`),c+=i,d+=s;for(let e=h.length-1;e>0;e--)h[e]=h[e-1];if(h[0]=[c,d],c<=0||c>30||d<=0||d>30)return l=!0;for(let e=0;e<h.length;e++)r+=`<div class="head" style="grid-area: ${h[e][1]} / ${h[e][0]}"></div>`,0!==e&&h[0][1]===h[e][1]&&h[0][0]===h[e][0]&&(l=!0);o.innerHTML=r},100),document.addEventListener("keyup",k),document.addEventListener("DOMContentLoaded",function(){document.querySelector(".back-to-games button").addEventListener("click",function(){window.close()})});
//# sourceMappingURL=snake.23a571ac.js.map
